{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ahsan/Downloads/physiotherapy-website-build/app/api/booking/route.ts"],"sourcesContent":["import { Resend } from \"resend\"\r\nimport { NextResponse } from \"next/server\"\r\n\r\nconst resend = new Resend(process.env.RESEND_API_KEY)\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const body = await request.json()\r\n    const { fullName, phone, email, preferredDate, preferredTime, problemType, additionalDetails } = body\r\n\r\n    // Validate required fields\r\n    if (!fullName || !phone) {\r\n      return NextResponse.json({ error: \"Full name and phone are required\" }, { status: 400 })\r\n    }\r\n\r\n    // Format the email content\r\n    const emailHtml = `\r\n      <h2>New Booking Request</h2>\r\n      <p><strong>Full Name:</strong> ${fullName}</p>\r\n      <p><strong>Phone:</strong> ${phone}</p>\r\n      ${email ? `<p><strong>Email:</strong> ${email}</p>` : \"\"}\r\n      ${preferredDate ? `<p><strong>Preferred Date:</strong> ${preferredDate}</p>` : \"\"}\r\n      ${preferredTime ? `<p><strong>Preferred Time:</strong> ${preferredTime}</p>` : \"\"}\r\n      ${problemType ? `<p><strong>Problem Type:</strong> ${problemType}</p>` : \"\"}\r\n      ${additionalDetails ? `<p><strong>Additional Details:</strong> ${additionalDetails}</p>` : \"\"}\r\n    `\r\n\r\n    // Send email using Resend\r\n    const data = await resend.emails.send({\r\n      from: \"CSPP Booking <onboarding@resend.dev>\",\r\n      to: [\"csppphysiotherapy@gmail.com\"],\r\n      subject: `New Booking Request from ${fullName}`,\r\n      html: emailHtml,\r\n    })\r\n\r\n    return NextResponse.json({ success: true, data }, { status: 200 })\r\n  } catch (error) {\r\n    console.error(\"Error sending email:\", error)\r\n    return NextResponse.json({ error: \"Failed to send booking request\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,uMAAM,CAAC,QAAQ,GAAG,CAAC,cAAc;AAE7C,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,aAAa,EAAE,aAAa,EAAE,WAAW,EAAE,iBAAiB,EAAE,GAAG;QAEjG,2BAA2B;QAC3B,IAAI,CAAC,YAAY,CAAC,OAAO;YACvB,OAAO,+QAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAmC,GAAG;gBAAE,QAAQ;YAAI;QACxF;QAEA,2BAA2B;QAC3B,MAAM,YAAY,CAAC;;qCAEc,EAAE,SAAS;iCACf,EAAE,MAAM;MACnC,EAAE,QAAQ,CAAC,2BAA2B,EAAE,MAAM,IAAI,CAAC,GAAG,GAAG;MACzD,EAAE,gBAAgB,CAAC,oCAAoC,EAAE,cAAc,IAAI,CAAC,GAAG,GAAG;MAClF,EAAE,gBAAgB,CAAC,oCAAoC,EAAE,cAAc,IAAI,CAAC,GAAG,GAAG;MAClF,EAAE,cAAc,CAAC,kCAAkC,EAAE,YAAY,IAAI,CAAC,GAAG,GAAG;MAC5E,EAAE,oBAAoB,CAAC,wCAAwC,EAAE,kBAAkB,IAAI,CAAC,GAAG,GAAG;IAChG,CAAC;QAED,0BAA0B;QAC1B,MAAM,OAAO,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACpC,MAAM;YACN,IAAI;gBAAC;aAA8B;YACnC,SAAS,CAAC,yBAAyB,EAAE,UAAU;YAC/C,MAAM;QACR;QAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAK,GAAG;YAAE,QAAQ;QAAI;IAClE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAiC,GAAG;YAAE,QAAQ;QAAI;IACtF;AACF"}}]
}